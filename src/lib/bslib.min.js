(function(){var f={body:document.body,document:document.documentElement,css:{getGlobalSize:function(){return{height:Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),width:Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}},getBackgroundImageSize:function(a){if(null!==
a&&null!==a.style.backgroundImage){a=window.getComputedStyle(a,null).backgroundImage;a=a.match(/\((.*?)\)/)[1].replace(/('|")/g,"");var b=new Image;b.onload=function(){};b.src=a;return{height:b.height,width:b.width}}},getComputedStyle:function(a,b){return window.getComputedStyle(a,null).getPropertyValue(b)},hasClass:function(a,b){return null!==a?a.classList.contains(b):!1},addClass:function(a,b){return null===a||a.classList.contains(b)?!1:(a.classList.add(b),!0)},removeClass:function(a,b){return null!==
a&&a.classList.contains(b)?(a.classList.remove(b),!0):!1},isNode:function(a){return"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},isElement:function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName},fitImage:function(a){try{var b=new Image;b.onload=function(){var b=parseInt(window.getComputedStyle(a,null).width,10)/this.width;a.style.height=
f.css.hasClass(a,"browser")?this.height+"px":parseInt(this.height*b,10)+"px"};b.src=a.getElementsByTagName("img")[0].src}catch(c){}},setMiddleCenter:function(a){return null!==a?(a.style.top=.5*(f.css.getGlobalSize().height-a.clientHeight)+"px",a.style.left=.5*(f.css.getGlobalSize().width-a.clientWidth)+"px",!0):!1},remove:function(a){return null!==a?(a.parentNode.removeChild(a),!0):!1},toggleVisibility:function(a){var b=a.style.opacity,c=window.getComputedStyle(a,null).getPropertyValue("visibility");
0===parseFloat(b)&&(c="hidden");if("visible"===c)return 0<=parseFloat(b)&&(a.dataset.__opacity=b),a.style.opacity=0,a.style.visibility="hidden",!1;if("hidden"===c)return a.style.visibility="visible",a.style.opacity=a.dataset.__opacity||1,!0},isVisible:function(a){return"none"!==f.css.getComputedStyle(a,"display")||0<f.css.getComputedStyle(a,"opacity")?!0:!1}},data:{urlToBase64:function(a,b){return new Promise(function(c,d){var e=document.createElement("canvas"),h=e.getContext("2d"),g=new Image;g.crossOrigin=
"anonymous";g.onload=function(){e.height=g.height;e.width=g.width;h.drawImage(g,0,0);c(e.toDataURL(b));e=null};g.onerror=function(a){d(a)};g.src=a})},loadURL:function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.onload=function(){200===d.status?b(d.response):c(Error(d.statusText))};d.onerror=function(){c(Error("Network Error"))};d.send()})},loadJSON:function(a){return this.loadURL(a).then(function(a){return JSON.parse(a)},function(a){return Error("Error",a)})},setURLParameters:function(a,
b){var c=document.location.href.match(new RegExp(a+"=(.*?)+","gi"))||"",c=1<c.length?c[0]:c,d=a+"="+b,e=-1<document.location.href.indexOf("?")?"&":"?",c=""===c?document.location.href+e+d:document.location.href.replace(c,d);window.history.pushState(d,"Title",c)},getURLParameters:function(a){a=void 0!==a?a:window.location!==window.parent.location?document.referrer:document.location;var b={};try{a=a.href.split(/\?/);var c=a[1].split("&");for(a=0;a<c.length;a++){var d=c[a].split("=");b[d[0]]=d[1]}return b}catch(e){throw"BSLib.data.getURLParameters "+
e;}finally{return b}},getDate:function(){var a=new Date,b=10>a.getDate()?"0"+a.getDate():a.getDate(),c=10>a.getMonth()+1?"0"+(a.getMonth()+1):a.getMonth()+1;return{month:c.toString(),day:b.toString(),year:a.getFullYear().toString(),mmddyyyy:c+"."+b+"."+a.getFullYear()}},fileSystem:function(a,b){function c(a){switch(a.code){case FileError.SECURITY_ERR:a="Security Error";break;case FileError.NOT_FOUND_ERR:a="Not Found Error";break;case FileError.QUOTA_EXCEEDED_ERR:a="Quota Exceeded Error";break;case FileError.INVALID_MODIFICATION_ERR:a=
"Invalid Modification Error";break;case FileError.INVALID_STATE_ERR:a="Invalid State Error";break;default:a="Unknown Error"}console.log(a)}var d;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.requestFileSystem?navigator.webkitPersistentStorage.requestQuota(a||2097152,function(a){window.requestFileSystem(window.PERSISTENT,a,function(a){d=a;void 0!==b&&b(d)},c)},c):console.log("Your browser doesn't support fileStorage");return d},setLocal:function(a,b){window.localStorage?
localStorage.setItem(a,String(b)):console.error("localStorage not supported")},getLocal:function(a){return localStorage.getItem(a)},removeLocal:function(a){localStorage.removeItem(a)}},events:{_checkPassiveSupport:function(){try{var a=Object.defineProperty({},"passive",{get:function(){return!0}});window.addEventListener("test",null,a)}catch(b){return!1}},ready:function(a,b){function c(a){void 0!==e&&e(a)}var d,e;2===arguments.length?(d=a,e=b):(d=document,e=a);d.addEventListener("DOMContentLoaded",
c,{passive:!0});d.addEventListener("readystatechange",c,{passive:!0});window.addEventListener("load",c,{passive:!0})},sticky:function(a,b){for(var c=0;c<a.length;c++){var d=f.css.isElement(a[c])?a[c]:document.getElementById(a[c]);null!==d&&(f.css.toggleVisibility(d),null!==b&&b(d,c))}},onupdate:function(a,b,c){var d=new MutationObserver(function(a){a.forEach(function(a){b(a)})});c=c||{attributes:!0,childList:!0,characterData:!0,subtree:!0};d.observe(a,c)},mousemove:function(a,b){var c,d;2===arguments.length?
(c=a,d=b):(c=window,d=a);c.addEventListener("mousemove",function(a){void 0!==d&&d(a)},{passive:!0})},mousestop:function(a,b){var c,d;2===arguments.length?(c=a,d=b):(c=window,d=a);var e;c.addEventListener("mousemove",function(a){void 0!==e&&window.clearTimeout(e);e=window.setTimeout(function(){void 0!==d&&d(a)},200)})},mousewheel:function(a,b){var c,d;2===arguments.length?(c=a,d=b):(c=window,d=a);var e=!1,f,g=function(a){e=!0;f=a;f.distance={x:(window.pageXOffset||document.documentElement.scrollLeft)-
(document.documentElement.clientLeft||0),y:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}};setInterval(function(){e&&(e=!1,void 0!==d&&d(f))},20);c.addEventListener("DOMMouseScroll",g,{passive:!0});c.onmousewheel=c.onwheel=c.onscroll=g},mousewheelstop:function(a,b){var c,d;2===arguments.length?(c=a,d=b):(c=window,d=a);var e;bs.events.mousewheel(c,function(a){void 0!==e&&window.clearTimeout(e);e=window.setTimeout(function(){void 0!==d&&d(a)},200)})},
mouseup:function(a,b){null!==a&&a.addEventListener("mouseup",function(a){void 0!==b&&b(a)},{passive:!0})},mousedown:function(a,b){null!==a&&a.addEventListener("mousedown",function(a){void 0!==b&&b(a)},{passive:!0})},mousedownRight:function(a,b){null!==a&&a.addEventListener("contextmenu",function(a){a.preventDefault();void 0!==b&&b(a);return!1},{passive:!0})},keyup:function(a){window.addEventListener("keyup",function(b){void 0!==a&&a(b)},{passive:!0})},keydown:function(a){window.addEventListener("keydown",
function(b){void 0!==a&&a(b)},{passive:!0})},input:function(a,b){function c(a){a=f.utils.combine(a,d);void 0!==b&&(b=b.bind(this),b(a))}var d={};window.addEventListener("keydown",function(a){d={altKey:a.altKey,ctrlKey:a.ctrlKey,keyCode:a.keyCode,keyIdentifier:a.keyIdentifier,shiftKey:a.shiftKey,type:a.type}},!1);a.addEventListener("input",c,{passive:!0});a.addEventListener("change",c,{passive:!0})}},html:{getSelectValue:function(a,b){b=b||a.selectedIndex;return{innerHTML:a.options[b].text,value:a.options[b].value}},
setSelectValue:function(a,b){Number.isInteger(b)&&(b=f.html.getSelectValue(a,b).value);a.value=b;try{a.onchange(),a.oninput()}catch(c){}},setScrollPosition:function(a,b,c){function d(b,c){if(!(0>=c))var f=(b-a.scrollTop)/c*10,k=window.setTimeout(function(){a.scrollTop+=f;a.scrollTop===b?clearTimeout(k):d(b,c-10)},1)}d(b,c)}},Paginate:function(a){function b(){e=e>=d.images.length?0:parseInt(f.data.getURLParameters()[d.id],10)||0;f.data.setURLParameters(d.id,e);h.src=d.images[e];return e}function c(){e=
parseInt(f.data.getURLParameters()[d.id],10);if(e+1>=d.images.length&&"string"===typeof d.lastClickDestination)document.location.href=d.lastClickDestination;else{var a=e+1<d.images.length?e+1:d.loop?0:e;f.data.setURLParameters(d.id,a);h.src=d.images[a]}return e}var d=f.utils.combine({id:"bs-page",images:[],loop:!0},a),e=parseInt(f.data.getURLParameters()[d.id],10)||0,h=document.getElementById(d.id);(function(){h.addEventListener("click",function(a){c(a)});b(event)})();return{update:b,next:c}},utils:{map:function(a,
b,c,d,e){return d+(a-b)/(c-b)*(e-d)},distance:function(a,b){var c=(void 0!==b.x?b.x:b[0])-(void 0!==a.x?a.x:a[0]),d=(void 0!==b.y?b.y:b[1])-(void 0!==a.y?a.y:a[1]);return Math.sqrt(c*c+d*d)},combine:function(a,b){if("Array"===Object.prototype.toString.call(b).split(/\W/)[2])b=b.reduce(function(a,b){a.push(b);return a},a);else for(var c in a)b[c]=void 0!==b[c]?b[c]:a[c];return b},shuffleArray:function(a){for(var b=[],c=a.length;c--;b.unshift(a[c]));var d,e;for(a=b.length;a;d=parseInt(Math.random()*
a),e=b[--a],b[a]=b[d],b[d]=e);return b},removeArrayDuplicates:function(a){var b=[];if("Array"===Object.prototype.toString.call(a).split(/\W/)[2])return a.reduce(function(a,b){-1===a.indexOf(b)&&a.push(b);return a},b)},generateString:function(a){a=a||36;for(var b="";b.length<a;b+=Math.random().toString(36).substr(2));return b.substr(0,a)}}};("undefined"!==typeof global&&null!==global?global:this).bs=f}).call(this);
